.import time
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium import webdriver
driver = webdriver.Chrome()
driver.maximize_window()
driver.get("http://demo.automationtesting.in/WebTable.html")
driver.implicitly_wait(20)
driver.find_element_by_xpath("/html/body/header/nav/div/div[2]/ul/li[9]/a").click()
driver.find_element_by_xpath("/html/body/header/nav/div/div[2]/ul/li[9]/ul/li[5]/a").click()
close = WebDriverWait(driver, 5).until(
    EC.invisibility_of_element_located((By.XPATH, "/html/body/div/div[3]/div/button")))
driver.find_element_by_id("downloadButton").click()
element = WebDriverWait(driver, 3).until(
    EC.text_to_be_present_in_element((By.XPATH, "/html/body/div/div[3]/div/button"), "Cancel Download"))
time.sleep(10)
driver.find_element_by_xpath("/html/body/div/div[3]/div/button").click()
driver.find_element_by_id("downloadButton").click()
element1 = WebDriverWait(driver, 20).until(
    EC.text_to_be_present_in_element((By.XPATH, "/html/body/div/div[2]/div[1]"), "Complete!"))
driver.quit()

ПРАВИЛЬНО!!!!!!!!!!!!!

from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium import webdriver

driver = webdriver.Chrome()
driver.maximize_window()
driver.implicitly_wait(5)
driver.get("http://demo.automationtesting.in/WebTable.html")

# Переход в раздел More -> JQuery ProgressBar
more = driver.find_element_by_link_text("More")
more.click()
more_loading_file_upload = driver.find_element_by_link_text("JQuery ProgressBar")
more_loading_file_upload.click()
# Проверка что кнопка close невидима
progress_bar = WebDriverWait(driver, 10).until(
EC.invisibility_of_element_located((By.CSS_SELECTOR, ".ui-dialog-buttonset > button")))
# Открытие окна загрузки
start_download = driver.find_element_by_id("downloadButton")
start_download.click()
# Проверка названия кнопки
close_btn_text = WebDriverWait(driver, 10).until(
EC.text_to_be_present_in_element((By.CSS_SELECTOR, ".ui-dialog-buttonset > button"), "Cancel Download"))
# Закрытие - > открытие окна загрузки
close_btn = driver.find_element_by_css_selector(".ui-dialog-buttonset > button")
close_btn.click()
start_download.click()
# Проверка финального текста
window_text = WebDriverWait(driver, 10).until(
EC.text_to_be_present_in_element((By.CSS_SELECTOR, ".progress-label"), "Complete!"))

driver.quit()